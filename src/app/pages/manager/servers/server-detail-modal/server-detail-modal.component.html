<div class="modal-header">
  <i class="fa fa-pencil-square-o"></i>
  服务器管理 - 服务器详情
  <button class="close" aria-label="Close" (click)="closeModal()">
    <i class="fa fa-times" aria-hidden="true"></i>
  </button>
</div>
<div class="modal-body">
  <form (ngSubmit)="updateServer()" #serverForm="ngForm" name="serverForm">
    <div class="form-group row">
      <label for="input-name" class="col-sm-2 col-form-label">服务器名称</label>
      <div class="col-sm-10">
        <input name="name" id="input-name" class="form-control" placeholder="服务器名称" autofocus
               [(ngModel)]="server.name" #name="ngModel"
               [class.form-control-danger]="name.invalid && name.touched"
               [required]="true">
        <small class="form-text error"
               *ngIf="name.invalid && name.touched && name.errors?.required">
          请填写服务器名称
        </small>
      </div>
    </div>
    <div class="form-group row">
      <label for="input-endpoint" class="col-sm-2 col-form-label">连接地址</label>
      <div class="col-sm-10">
        <input name="endpoint" id="input-endpoint" class="form-control" placeholder="连接地址"
               [(ngModel)]="server.endpoint" #endpoint="ngModel"
               [class.form-control-danger]="endpoint.invalid && endpoint.touched"
               [required]="true">
        <small class="form-text error"
               *ngIf="endpoint.invalid && endpoint.touched && endpoint.errors?.required">
          请填写连接地址
        </small>
      </div>
    </div>
    <div class="form-group row">
      <label for="input-dynmap" class="col-sm-2 col-form-label">大地图地址(可选)</label>
      <div class="col-sm-10">
        <input name="dynmap" id="input-dynmap" class="form-control" placeholder="大地图地址"
               [(ngModel)]="server.dynmap" #dynmap="ngModel">
      </div>
    </div>
    <div class="form-group row">
      <label for="textarea-announce" class="col-sm-2 col-form-label">
        服务器公告<br>
        <b>
          <small>
            第一行服务器名<br>
            剩下四行公告<br>
            务必保持五行<br>
          </small>
        </b>
      </label>
      <div class="col-sm-10">
        <textarea name="announce" id="textarea-announce" class="form-control" cols="5" rows="5" placeholder="服务器公告"
                  [(ngModel)]="server.announce" #announce="ngModel"
                  [class.form-control-danger]="announce.invalid && announce.touched"
                  [required]="true">
        </textarea>
        <small class="form-text error"
               *ngIf="announce.invalid && announce.touched && announce.errors?.required">
          请填写服务器公告
        </small>
      </div>
    </div>
    <div class="form-group row">
      <div class="offset-sm-2 col-sm-10">
        <button class="btn btn-hero-success"
                [disabled]="submitted || !serverForm.form.valid"
                [class.btn-pulse]="submitted">
          更新服务器信息
        </button>
        <button class="btn btn-md btn-hero-danger" (click)="closeModal()">取消</button>
      </div>
    </div>
  </form>
</div>
