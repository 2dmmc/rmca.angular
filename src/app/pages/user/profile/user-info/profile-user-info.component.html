<nb-card [nbSpinner]="submitted" nbSpinnerStatus="info" nbSpinnerMessage="个人资料更新中 ...">
  <nb-card-header>
    <span>
      <i class="fa fa-id-card"></i>个人资料
    </span>
  </nb-card-header>
  <nb-card-body>
    <form autocomplete="off" role="form"
          [formGroup]="profileForm" (ngSubmit)="updateProfile(profileForm.value)">
      <div class="form-group row">
        <label for="input-username" class="col-sm-2 col-form-label">放点啥?</label>
        <div class="col-sm-10">
          <input class="form-control" id="input-username" placeholder="用户名" type="url" readonly disabled
                 formControlName="username"
                 [class.form-control-success]="profileForm.get('username').valid && profileForm.get('username').touched"
                 [class.form-control-danger]="profileForm.get('username').invalid && profileForm.get('username').touched">
        </div>
      </div>

      <div class="form-group row">
        <label for="input-email" class="col-sm-2 col-form-label">电子邮箱</label>
        <div class="col-sm-10">
          <input class="form-control" id="input-email" placeholder="邮箱"
                 formControlName="email"
                 [class.form-control-success]="profileForm.get('email').valid && profileForm.get('email').touched"
                 [class.form-control-danger]="profileForm.get('email').invalid && profileForm.get('email').touched">
          <small class="form-text error"
                 *ngIf="
             profileForm.get('email').invalid && profileForm.get('email').touched &&
             profileForm.get('email').hasError('required')">
            请填写邮箱
          </small>
          <small class="form-text error"
                 *ngIf="
             profileForm.get('email').invalid && profileForm.get('email').touched &&
             profileForm.get('email').hasError('email')">
            邮箱格式不正确
          </small>
        </div>
      </div>
      <div class="form-group row">
        <div class="offset-sm-2 col-sm-10">
          <button class="btn btn-success"
                  [disabled]="submitted || profileForm.invalid"
                  [class.btn-pulse]="submitted">
            <i class="fa fa-pencil-square-o"></i>
            更新个人资料
          </button>
        </div>
      </div>
    </form>
  </nb-card-body>
</nb-card>
